{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"194.163.179.31:8040","basePath":"/","tags":[{"name":"message-controller","description":"Message Controller"},{"name":"person-controller","description":"Person Controller"}],"paths":{"/api/chat":{"get":{"tags":["message-controller"],"summary":"findAllChats","operationId":"findAllChatsUsingGET_1","produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Person"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/chat/all":{"get":{"tags":["message-controller"],"summary":"Gets all chat messages, only for debug","operationId":"findAllChatsUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/MessageEntity"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/chat/post-test":{"post":{"tags":["message-controller"],"summary":"test","operationId":"testUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"dto","description":"dto","required":true,"schema":{"$ref":"#/definitions/SendMessageDTO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ChatNotification"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/chat/{addresseeId}":{"get":{"tags":["message-controller"],"summary":"findChatMessages","operationId":"findChatMessagesUsingGET","produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"addresseeId","in":"path","description":"addresseeId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/MessageEntity"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/chat/{addresseeId}/count":{"get":{"tags":["message-controller"],"summary":"countNewMessages","operationId":"countNewMessagesUsingGET","produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"addresseeId","in":"path","description":"addresseeId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"type":"integer","format":"int32"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/person/":{"get":{"tags":["person-controller"],"summary":"getAll","operationId":"getAllUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/PersonAllDTO"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/person/all-partners":{"get":{"tags":["person-controller"],"summary":"getAllPartners","operationId":"getAllPartnersUsingGET","produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/PersonAllDTO"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/person/login":{"post":{"tags":["person-controller"],"summary":"Login method for users","operationId":"loginUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"loginData","description":"loginData","required":true,"schema":{"$ref":"#/definitions/LoginDTO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Tokens"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/person/me":{"get":{"tags":["person-controller"],"summary":"Gets the person entity of the current user","operationId":"getMeUsingGET","produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PersonAllDTO"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/person/partner-match/no":{"post":{"tags":["person-controller"],"summary":"noMatch","operationId":"noMatchUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"in":"body","name":"partnerId","description":"partnerId","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","schema":{"type":"boolean"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/person/partner-match/yes":{"post":{"tags":["person-controller"],"summary":"yesMatch","operationId":"yesMatchUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"in":"body","name":"partnerId","description":"partnerId","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","schema":{"type":"boolean"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/person/potential-partners":{"get":{"tags":["person-controller"],"summary":"getPotentialPartner","operationId":"getPotentialPartnerUsingGET","produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/PersonAllDTO"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/person/sign-up":{"post":{"tags":["person-controller"],"summary":"Sign up method for users","operationId":"registerUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"registerData","description":"registerData","required":true,"schema":{"$ref":"#/definitions/RegistrationDTO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Tokens"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/person/{id}":{"put":{"tags":["person-controller"],"summary":"Modifying user data","operationId":"changeUserDataUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"newData","description":"newData","required":true,"schema":{"$ref":"#/definitions/PersonAllDTO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PersonAllDTO"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}}},"definitions":{"ChatNotification":{"type":"object","required":["id","senderId","senderName","text","timeStamp"],"properties":{"id":{"type":"integer","format":"int64"},"senderId":{"type":"integer","format":"int64"},"senderName":{"type":"string"},"text":{"type":"string"},"timeStamp":{"type":"integer","format":"int64"}},"title":"ChatNotification"},"CommonAttributes":{"type":"object","required":["matches","name"],"properties":{"name":{"type":"string"},"matches":{"type":"object","additionalProperties":{"type":"boolean"}}},"title":"CommonAttributes"},"LoginDTO":{"type":"object","required":["password","username"],"properties":{"username":{"type":"string"},"password":{"type":"string"}},"title":"LoginDTO"},"Match":{"type":"object","required":["commonAttributes"],"properties":{"pct":{"type":"integer","format":"int32"},"commonAttributes":{"type":"array","items":{"$ref":"#/definitions/CommonAttributes"}}},"title":"Match"},"MessageEntity":{"type":"object","required":["addressee","pair","sender","sentTime","text"],"properties":{"addressee":{"$ref":"#/definitions/Person"},"id":{"type":"integer","format":"int64"},"pair":{"$ref":"#/definitions/PairEntity"},"sender":{"$ref":"#/definitions/Person"},"sentTime":{"type":"string","format":"date-time"},"state":{"type":"string","enum":["SENT","DELIVERED","SEEN"]},"text":{"type":"string"}},"title":"MessageEntity"},"PairEntity":{"type":"object","required":["a","b","id","state"],"properties":{"a":{"$ref":"#/definitions/Person"},"b":{"$ref":"#/definitions/Person"},"id":{"type":"integer","format":"int64"},"responseA":{"type":"boolean"},"responseB":{"type":"boolean"},"state":{"type":"string","enum":["NOT_DECIDED","DENIED","MATCH"]}},"title":"PairEntity"},"Person":{"type":"object","required":["age","email","filmTaste","id","interests","languages","musicalTaste","name"],"properties":{"_filmTaste":{"type":"string"},"_interests":{"type":"string"},"_languages":{"type":"string"},"_musicalTaste":{"type":"string"},"age":{"type":"integer","format":"int32"},"alcohol":{"type":"integer","format":"int32"},"bio":{"type":"string"},"birthDate":{"type":"string","format":"date"},"breastSize":{"type":"integer","format":"int32"},"chemistry":{"type":"integer","format":"int32"},"childrenNumber":{"type":"integer","format":"int32"},"cigarettes":{"type":"integer","format":"int32"},"city":{"type":"string"},"eduLevel":{"type":"integer","format":"int32"},"email":{"type":"string"},"eyeColour":{"type":"integer","format":"int32"},"facialHair":{"type":"integer","format":"int32"},"filmTaste":{"type":"array","items":{"type":"integer","format":"int32"}},"gender":{"type":"integer","format":"int32"},"glasses":{"type":"integer","format":"int32"},"hairColour":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"},"horoscope":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int64"},"interests":{"type":"array","items":{"type":"integer","format":"int32"}},"jobType":{"type":"integer","format":"int32"},"languages":{"type":"array","items":{"type":"integer","format":"int32"}},"maritalStatus":{"type":"integer","format":"int32"},"maxAge":{"type":"integer","format":"int32"},"minAge":{"type":"integer","format":"int32"},"musicalTaste":{"type":"array","items":{"type":"integer","format":"int32"}},"name":{"type":"string"},"photo":{"type":"string"},"piercing":{"type":"integer","format":"int32"},"religion":{"type":"integer","format":"int32"},"shape":{"type":"integer","format":"int32"},"sportiness":{"type":"integer","format":"int32"},"tattoo":{"type":"integer","format":"int32"},"username":{"type":"string"}},"title":"Person"},"PersonAllDTO":{"type":"object","required":["birthDate","email","name","photo"],"properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"photo":{"type":"string"},"birthDate":{"type":"string","format":"date"},"height":{"type":"integer","format":"int32"},"age":{"type":"integer","format":"int32"},"gender":{"type":"integer","format":"int32"},"tattoo":{"type":"integer","format":"int32"},"eyeColour":{"type":"integer","format":"int32"},"hairColour":{"type":"integer","format":"int32"},"piercing":{"type":"integer","format":"int32"},"glasses":{"type":"integer","format":"int32"},"sportiness":{"type":"integer","format":"int32"},"breastSize":{"type":"integer","format":"int32"},"bio":{"type":"string"},"city":{"type":"string"},"jobType":{"type":"integer","format":"int32"},"eduLevel":{"type":"integer","format":"int32"},"cigarettes":{"type":"integer","format":"int32"},"alcohol":{"type":"integer","format":"int32"},"childrenNumber":{"type":"integer","format":"int32"},"maritalStatus":{"type":"integer","format":"int32"},"musicalTaste":{"type":"array","items":{"type":"integer","format":"int32"}},"filmTaste":{"type":"array","items":{"type":"integer","format":"int32"}},"religion":{"type":"integer","format":"int32"},"horoscope":{"type":"integer","format":"int32"},"languages":{"type":"array","items":{"type":"integer","format":"int32"}},"interests":{"type":"array","items":{"type":"integer","format":"int32"}},"shape":{"type":"integer","format":"int32"},"facialHair":{"type":"integer","format":"int32"},"match":{"$ref":"#/definitions/Match"},"minAge":{"type":"integer","format":"int32"},"maxAge":{"type":"integer","format":"int32"},"chemistry":{"type":"integer","format":"int32"}},"title":"PersonAllDTO"},"RegistrationDTO":{"type":"object","required":["birthDate","email","name","password","photo","username"],"properties":{"username":{"type":"string"},"password":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"photo":{"type":"string"},"birthDate":{"type":"string","format":"date"},"height":{"type":"integer","format":"int32"},"gender":{"type":"integer","format":"int32"},"tattoo":{"type":"integer","format":"int32"},"eyeColour":{"type":"integer","format":"int32"},"hairColour":{"type":"integer","format":"int32"},"piercing":{"type":"integer","format":"int32"},"glasses":{"type":"integer","format":"int32"},"sportiness":{"type":"integer","format":"int32"},"breastSize":{"type":"integer","format":"int32"},"bio":{"type":"string"},"city":{"type":"string"},"jobType":{"type":"integer","format":"int32"},"eduLevel":{"type":"integer","format":"int32"},"cigarettes":{"type":"integer","format":"int32"},"alcohol":{"type":"integer","format":"int32"},"childrenNumber":{"type":"integer","format":"int32"},"maritalStatus":{"type":"integer","format":"int32"},"musicalTaste":{"type":"array","items":{"type":"integer","format":"int32"}},"filmTaste":{"type":"array","items":{"type":"integer","format":"int32"}},"religion":{"type":"integer","format":"int32"},"horoscope":{"type":"integer","format":"int32"},"languages":{"type":"array","items":{"type":"integer","format":"int32"}},"interests":{"type":"array","items":{"type":"integer","format":"int32"}},"shape":{"type":"integer","format":"int32"},"facialHair":{"type":"integer","format":"int32"},"minAge":{"type":"integer","format":"int32"},"maxAge":{"type":"integer","format":"int32"},"chemistry":{"type":"integer","format":"int32"}},"title":"RegistrationDTO"},"SendMessageDTO":{"type":"object","required":["addresseeId","jwt","text"],"properties":{"addresseeId":{"type":"integer","format":"int64"},"jwt":{"type":"string"},"text":{"type":"string"}},"title":"SendMessageDTO"},"Tokens":{"type":"object","required":["accessToken","refreshToken","userId"],"properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"userId":{"type":"integer","format":"int64"}},"title":"Tokens"}}}